<div class="chat-fixed">
  <div class="chat-header">
    <button nz-button nzType="link" (click)="closeChat()" style="float: right;">&times;</button>
  </div>
  <div class="chat-body" #chatList>
    <nz-list>
      <nz-list-item *ngFor="let message of messages; trackBy: trackByFn"
                    [ngClass]="{'message-left': message.role === 'AI', 'message-right': message.role === 'User'}">
        <nz-list-item-meta
          [nzAvatar]="message.role === 'AI' ? 'https://ui-avatars.com/api/?name=ARTIFICIAL+INTELLIGENCE' : 'https://ui-avatars.com/api/?name=USER'"
          [nzTitle]="message.role"
          [nzDescription]="message.content">
        </nz-list-item-meta>
      </nz-list-item>
    </nz-list>
  </div>
  <div class="chat-footer">
    <nz-input-group nzSearch [nzAddOnAfter]="sendButton">
      <input type="text" nz-input placeholder="Preguntale a la AI..." [(ngModel)]="userInput" (keydown.enter)="sendMessage()" />
    </nz-input-group>
    <ng-template #sendButton>
      <button nz-button nzType="primary" (click)="sendMessage()"><span nz-icon nzType="arrow-right"></span></button>
    </ng-template>
  </div>
</div>
